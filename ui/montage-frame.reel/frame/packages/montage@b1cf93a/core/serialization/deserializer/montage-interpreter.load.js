montageDefine("b1cf93a","core/serialization/deserializer/montage-interpreter",{dependencies:["core/core","mousse/deserialization/interpreter","mousse/deserialization/context","./montage-reviver","core/promise"],factory:function(e,t){var n=e("core/core").Montage,i=e("mousse/deserialization/interpreter").Interpreter,r=e("mousse/deserialization/context").Context,a=e("./montage-reviver").MontageReviver,o=e("core/promise").Promise,s=n.specialize.call(i,{_require:{value:null},_reviver:{value:null},init:{value:function(e,t){if("function"!=typeof e)throw Error("Function 'require' missing.");return this._reviver=(new a).init(e,t),this}},instantiate:{value:function(e,t,n){var i;return i=(new l).init(e,this._reviver,t,n),i.getObjects()}},preloadModules:{value:function(e){var t,n,i,r,s=this._reviver,l=s.moduleLoader,u=[];for(var c in e)t=e[c],n=t.prototype||t.object,n&&(i=a.parseObjectLocationId(n),r=l.getModule(i.moduleId,c),o.isPromise(r)&&u.push(r));return u.length>0?o.all(u):void 0}}}),l=n.specialize.call(r,{_ELEMENT_ID_ATTRIBUTE:{value:"data-montage-id"},_unitsToDeserialize:{value:null},_element:{value:null},constructor:{value:function(){this._unitsToDeserialize=[]}},init:{value:function(e,t,n,i){return r.call(this,e,t,n),this._element=i,this}},getElement:{value:function(){return this._element}},getElementById:{value:function(e){var t="*["+this._ELEMENT_ID_ATTRIBUTE+'="'+e+'"]';return this._element.querySelector(t)}},setUnitsToDeserialize:{value:function(e,t,n){this._unitsToDeserialize.push({object:e,objectDesc:t,unitNames:n})}},getUnitsToDeserialize:{value:function(){return this._unitsToDeserialize}}});t.MontageInterpreter=s,t.MontageContext=l}});