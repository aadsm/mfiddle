var NativeControl=require("ui/native-control").NativeControl,PressComposer=require("montage/composer/press-composer").PressComposer;exports.CheckInput=NativeControl.specialize({blur:{value:function(){this._element.blur()}},focus:{value:function(){this._element.focus()}},draw:{value:function(){this.super(),this._element.setAttribute("aria-checked",this._checked)}},_pressComposer:{enumerable:!1,value:null},prepareForActivationEvents:{value:function(){var t=this._pressComposer=new PressComposer;this.addComposer(t),t.addEventListener("pressStart",this,!1),t.addEventListener("press",this,!1)}},enterDocument:{value:function(t){t&&this._element.addEventListener("change",this)}},_fakeCheck:{enumerable:!1,value:function(){var t;this._element.checked=!this._element.checked,t=document.createEvent("HTMLEvents"),t.initEvent("change",!0,!0),this._element.dispatchEvent(t)}},_shouldFakeCheck:{enumerable:!1,value:!1},handlePressStart:{value:function(t){this._shouldFakeCheck=t.defaultPrevented}},handlePress:{value:function(){this._shouldFakeCheck&&(this._shouldFakeCheck=!1,this._fakeCheck())}},handleChange:{enumerable:!1,value:function(){this._pressComposer&&this._pressComposer.state===PressComposer.CANCELLED||(Object.getPropertyDescriptor(this,"checked").set.call(this,this.element.checked,!0),this._dispatchActionEvent())}}});