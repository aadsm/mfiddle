function observe(t,e,n){var i;i="function"==typeof n?{change:n}:n,i=i||empty,i.source=t,i.sourcePath=e;var a=i.parameters=i.parameters||t,r=i.document,s=i.components,o=i.beforeChange,l=i.contentChange,c=new Scope(t,null,a,r,s,o),u=parse(e),h=compile(u);return l===!0&&(h=Observers.makeRangeContentObserver(h)),h(autoCancelPrevious(function(e){if(e){if("function"!=typeof l)return i.change.apply(t,arguments);if("function"==typeof l)return e.addRangeChangeListener(l),Observers.once(function(){e.removeRangeChangeListener(l)})}else;}),c)}var parse=require("./parse"),compile=require("./compile-observer"),Observers=require("./observers"),autoCancelPrevious=Observers.autoCancelPrevious,Scope=require("./scope");module.exports=observe;var empty={};