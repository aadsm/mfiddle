montageDefine("7892c9a","test/simple/test-stream2-read-sync-stack",{dependencies:["../common","assert","../../readable"],factory:function(e){e("../common");var t=e("assert"),n=e("../../readable").Readable,a=new n,i=262144;process.maxTickDepth=i+2;var r=0;a._read=function(){var e=r++===i?null:new Buffer(1);a.push(e)},a.on("readable",function(){a._readableState.length%256||console.error("readable",a._readableState.length),a.read(2*i)});var s=!1;a.on("end",function(){s=!0}),a.read(0),process.on("exit",function(){t(s),console.log("ok")})}});