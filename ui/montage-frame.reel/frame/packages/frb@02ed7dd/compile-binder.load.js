montageDefine("02ed7dd","compile-binder",{dependencies:["./compile-observer","./observers","./binders","./algebra"],factory:function(t,e,n){function i(t){return i.semantics.compile(t)}var a=t("./compile-observer");t("./observers");var r=t("./binders"),s=t("./algebra"),o={type:"value"},l={type:"literal",value:!0};n.exports=i,i.semantics={compilers:{property:r.makePropertyBinder,get:r.makeGetBinder,has:r.makeHasBinder,rangeContent:r.makeRangeContentBinder,mapContent:r.makeMapContentBinder,reversed:r.makeReversedBinder,and:r.makeAndBinder,or:r.makeOrBinder},compile:function(t){var e=this.compilers;if("equals"===t.type){var n=this.compile(t.args[0]),i=a(t.args[1]);return r.makeEqualityBinder(n,i)}if("if"===t.type){var c=a(t.args[0]),h=this.compile(t.args[1]),u=this.compile(t.args[2]);return r.makeConditionalBinder(c,h,u)}if("and"===t.type||"or"===t.type){var d=s(t.args[0],o),p=s(t.args[1],o),n=this.compile(d[0]),g=this.compile(p[0]),m=a(d[1]),v=a(p[1]),f=a(t.args[0]),i=a(t.args[1]);return this.compilers[t.type](n,g,f,i,m,v)}if("everyBlock"===t.type){var L=a(t.args[0]),y=s(t.args[1],l),C=this.compile(y[0]),_=a(y[1]);return r.makeEveryBlockBinder(L,C,_)}if("rangeContent"===t.type){var b,w=a(t.args[0]);try{b=this.compile(t.args[0])}catch(M){b=Function.noop}return r.makeRangeContentBinder(w,b)}if(e.hasOwnProperty(t.type)){var x=t.args.map(a,a.semantics);return e[t.type].apply(null,x)}throw Error("Can't compile binder for "+JSON.stringify(t.type))}}}});