montageDefine("b5c643b","bindings",{dependencies:["collections/map","./bind","./compute","./observe"],factory:function(t,e){function n(t,e,n){if(e)for(var a in e)i(t,a,e[a],n);return t}function i(t,n,i,r){r=r||Object.empty;var s=a(t);if(d.call(s,n))throw Error("Can't bind to already bound target, "+JSON.stringify(n));return"<-"in i||"<->"in i||"compute"in i?(i.target=t,i.parameters=i.parameters||r.parameters,i.document=i.document||r.document,i.components=i.components||r.components,i.cancel="compute"in i?h(t,n,i):c(t,n,i),s[n]=i,e.count++):("get"in i||"set"in i||"writable"in i||(i.writable=!0),"configurable"in i||(i.configurable=!0),"enumerable"in i||(i.enumerable=!0),Object.defineProperty(t,n,i)),t}function a(t){return u.has(t)||u.set(t,{}),u.get(t)}function r(t,e){var n=a(t);return n[e]}function s(t){var e=a(t);for(var n in e)o(t,n)}function o(t,n){var i=a(t);if(!i[n])throw Error("Can't cancel non-existent binding to "+JSON.stringify(n));var r=i[n];if(r&&r.cancel){r.cancel(),delete i[n],e.count--;for(var n in i)return;u["delete"](t)}}var l=t("collections/map"),c=t("./bind"),h=t("./compute");t("./observe");var u=new l,d=Object.prototype.hasOwnProperty;e.count=0,e.bindings=u,e.defineBindings=n,e.defineBinding=i,e.getBindings=a,e.getBinding=r,e.cancelBindings=s,e.cancelBinding=o}});