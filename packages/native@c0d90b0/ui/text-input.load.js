montageDefine("c0d90b0","ui/text-input",{dependencies:["ui/native-control"],factory:function(t,e){var n=t("ui/native-control").NativeControl,i=e.TextInput=n.specialize({_hasFocus:{enumerable:!1,value:!1},_value:{enumerable:!1,value:null},_valueSyncedWithInputField:{enumerable:!1,value:!1},value:{get:function(){return this._value},set:function(t,e){if(t!==this._value){if(this.converter){var n;try{n=this.converter.revert(t),this.error=null,this._value=n}catch(i){this._value=t,this.error=i}}else this._value=t;e?this._valueSyncedWithInputField=!0:(this._valueSyncedWithInputField=!1,this.needsDraw=!0)}}},_setValue:{value:function(){var t=this.element.value;Object.getPropertyDescriptor(this,"value").set.call(this,t,!0)}},converter:{value:null},_error:{value:null},error:{get:function(){return this._error},set:function(t){this._error=t,this.errorMessage=this._error?this._error.message:null,this.needsDraw=!0}},_errorMessage:{value:null},errorMessage:{get:function(){return this._errorMessage},set:function(t){this._errorMessage=t}},_updateOnInput:{value:!0},updateOnInput:{get:function(){return!!this._updateOnInput},set:function(t){this._updateOnInput=t}},blur:{value:function(){this._element.blur()}},focus:{value:function(){this._element.focus()}},enterDocument:{value:function(t){if(t){var e=this.element;e.addEventListener("focus",this),e.addEventListener("input",this),e.addEventListener("change",this),e.addEventListener("blur",this)}}},_setElementValue:{value:function(t){this.element.value=null==t?"":t}},draw:{enumerable:!1,value:function(){this.super();var t=this.element;this._valueSyncedWithInputField||this._setElementValue(this.converter?this.converter.convert(this._value):this._value),this.error?(t.classList.add("montage--invalidText"),t.title=this.error.message||""):(t.classList.remove("montage--invalidText"),t.title="")}},didDraw:{enumerable:!1,value:function(){if(this._hasFocus&&null!=this._value){var t=(""+this._value).length;this.element.setSelectionRange(t,t)}this.needsDraw||(this._valueSyncedWithInputField=!0)}},handleInput:{enumerable:!1,value:function(){this.converter?this.converter.allowPartialConversion===!0&&this.updateOnInput===!0&&this._setValue():this._setValue()}},handleChange:{enumerable:!1,value:function(){this._setValue(),this._hasFocus=!1}},handleBlur:{enumerable:!1,value:function(){this._hasFocus=!1}},handleFocus:{enumerable:!1,value:function(){this._hasFocus=!0}}});i.addAttributes({accept:null,alt:null,autocomplete:null,autofocus:{dataType:"boolean"},checked:{dataType:"boolean"},dirname:null,disabled:{dataType:"boolean"},form:null,formaction:null,formenctype:null,formmethod:null,formnovalidate:{dataType:"boolean"},formtarget:null,height:null,list:null,maxlength:null,multiple:{dataType:"boolean"},name:null,pattern:null,placeholder:null,readonly:{dataType:"boolean"},required:{dataType:"boolean"},size:null,src:null,width:null})}});