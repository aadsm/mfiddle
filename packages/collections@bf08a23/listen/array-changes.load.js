montageDefine("bf08a23","listen/array-changes",{dependencies:["../shim","../list","weak-map","./property-changes","./range-changes","./map-changes"],factory:function(t){function e(t){for(var e in t)Object.defineProperty(Array.prototype,e,{value:t[e],writable:!0,configurable:!0,enumerable:!1})}t("../shim"),t("../list"),t("weak-map");var n,i=t("./property-changes"),a=t("./range-changes"),r=t("./map-changes"),s=Array.prototype.splice,o=Array.prototype.slice,l=Array.prototype.reverse,c=Array.prototype.sort,u={}.__proto__===Object.prototype;n=u?function(){this.__proto__=d}:function(){Object.defineProperties(this,h)},Object.defineProperty(Array.prototype,"makeObservable",{value:n,writable:!0,configurable:!0,enumerable:!1}),e(i.prototype),e(a.prototype),e(r.prototype);var h={isObservable:{value:!0,writable:!0,configurable:!0},makeObservable:{value:Function.noop,writable:!0,configurable:!0},reverse:{value:function(){this.dispatchBeforeRangeChange(this,this,0);for(var t=0;this.length>t;t++)i.dispatchBeforeOwnPropertyChange(this,t,this[t]),this.dispatchBeforeMapChange(t,this[t]);l.call(this);for(var t=0;this.length>t;t++)i.dispatchOwnPropertyChange(this,t,this[t]),this.dispatchMapChange(t,this[t]);return this.dispatchRangeChange(this,this,0),this},writable:!0,configurable:!0},sort:{value:function(){this.dispatchBeforeRangeChange(this,this,0);for(var t=0;this.length>t;t++)i.dispatchBeforeOwnPropertyChange(this,t,this[t]),this.dispatchBeforeMapChange(t,this[t]);c.apply(this,arguments);for(var t=0;this.length>t;t++)i.dispatchOwnPropertyChange(this,t,this[t]),this.dispatchMapChange(t,this[t]);return this.dispatchRangeChange(this,this,0),this},writable:!0,configurable:!0},splice:{value:function(t,e){var n=o.call(this,t,t+e),a=o.call(arguments,2);if(!n.length&&!a.length)return a;var r=a.length-n.length,l=this.length,c=Math.max(this.length+r,t+a.length),u=Math.max(l,c);if(r&&i.dispatchBeforeOwnPropertyChange(this,"length",this.length),this.dispatchBeforeRangeChange(a,n,t),0===r)for(var h=t;t+a.length>h;h++)i.dispatchBeforeOwnPropertyChange(this,h,this[h]),this.dispatchBeforeMapChange(h,this[h]);else if(i.hasOwnPropertyChangeDescriptor(this))for(var h=t;u>h;h++)i.dispatchBeforeOwnPropertyChange(this,h,this[h]),this.dispatchBeforeMapChange(h,this[h]);t>l&&(this.length=t);var d=s.apply(this,arguments);if(0===r)for(var h=t;t+a.length>h;h++)i.dispatchOwnPropertyChange(this,h,this[h]),this.dispatchMapChange(h,this[h]);else if(i.hasOwnPropertyChangeDescriptor(this))for(var h=t;u>h;h++)i.dispatchOwnPropertyChange(this,h,this[h]),this.dispatchMapChange(h,this[h]);return this.dispatchRangeChange(a,n,t),r&&i.dispatchOwnPropertyChange(this,"length",this.length),d},writable:!0,configurable:!0},set:{value:function(t,e){return this.splice(t,1,e),this},writable:!0,configurable:!0},shift:{value:function(){return this.splice(0,1)[0]},writable:!0,configurable:!0},pop:{value:function(){return this.length?this.splice(this.length-1,1)[0]:void 0},writable:!0,configurable:!0},push:{value:function(t){if(1===arguments.length)return this.splice(this.length,0,t);var e=o.call(arguments);return this.swap(this.length,0,e)},writable:!0,configurable:!0},unshift:{value:function(t){if(1===arguments.length)return this.splice(0,0,t);var e=o.call(arguments);return this.swap(0,0,e)},writable:!0,configurable:!0},clear:{value:function(){return this.splice(0,this.length)},writable:!0,configurable:!0}},d=Object.create(Array.prototype,h)}});