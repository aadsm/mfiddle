montageDefine("02ed7dd","expand",{dependencies:["collections/set","collections/map","./operators"],factory:function(t,e,n){function i(t,e){var n=i.semantics.expand.bind(i.semantics);return n(t,e,n)}var a=t("collections/set"),r=t("collections/map"),s=t("./operators");n.exports=i,i.semantics={reflexive:a(["literal","element","rangeContent","mapContent"]),traverseLeft:a(["with","mapBlock","filterBlock","someBlock","everyBlock","sortedBlock","groupBlock","groupMapBlock"]),traverseAll:a(["if","tuple","property","get","has","map","filter","some","every","sorted","one","only","enumerate","flatten","reversed","view","order","sum","average","min","max","keys","values","items","evaluate","parent"]).addEach(Object.keys(s)),expanders:r({value:function(t,e){return e.value||{type:"value"}},parameters:function(t,e){return e.parameters||{type:"parameters"}},record:function(t,e,n){var i={type:"record",args:[]};for(var a in t.args)i.args[a]=n(t.args[a],e,n);return i},component:function(t,e){return e.components&&t.component?{type:"component",label:e.components.getObjectLabel(t.component)}:t}}),expand:function(t,e,n){return this.expanders.has(t.type)?this.expanders.get(t.type)(t,e,n):this.traverseLeft.has(t.type)?{type:t.type,args:[n(t.args[0],e,n)].concat(t.args.slice(1))}:this.reflexive.has(t.type)?t:{type:t.type,args:t.args.map(function(t){return n(t,e,n)})}}}}});